# TubaUserCenter

#### 介绍
这是一个基于SpringBoot 后端+React前端的全栈项目，可以作为拓展项目，可以作为后台系统添加功能和页面
![登录界面](https://foruda.gitee.com/images/1741935414275330114/b9f29890_14911447.png )
![信息管理界面](https://foruda.gitee.com/images/1741935488505006291/086ff061_14911447.png )
#### 技术选型
前端
主要运用阿里 Ant Design 生态：
HTML + CSS + JavaScript 三件套
React 开发框架
Ant Design Pro 项目模板
Ant Design 端组件库
Umi 开发框架
Umi Request 请求库
正向和反向代理

后端
Java 编程语言
Spring + SpringMVC + SpringBoot 框架
MyBatis + MyBatis Plus 数据访问框架
MySQL 数据库
jUnit 单元测试库

部署
Linux 单机部署
Nginx Web 服务器
Docker 容器
容器托管平台

## 安装教程

Ant Design Pro 框架初始化
框架由他人开发，经常变动，所以请勿必阅读官方文档：https://pro.ant.design/zh-CN/docs/getting-started/

#### 使用 npm
npm i @ant-design/pro-cli -g
pro create myapp

### 逻辑分析

#### 注册功能
1. 用户在前端输入账号、密码、验证码/校验码（todo）
2. 校验账号、密码、校验密码，是否符合要求
   a. 非空
   b. 账号不少于4位
   c. 密码不少于8位
   d. 账号是否有特殊字符
   e. 账户不能重复
   f. 密码与校验密码是否一致
3. 对密码进行加密操作（密码一定不能直接明文存入数据库）
4. 数据库进行插入操作，插入用户信息
  #### 登录功能
   ##### 接口分析
   ● 接收参数：用户账号、用户密码、（后期添加对应的验证码）
   ● 请求类型：POST  (get类型，请求数据存在固定长度，在传送数据长度较长以及传送数据长度未知时候推荐POST)
   ● 请求体：json类型数据 （相较于xml类型数据会更加的轻量）
   ● 返回值：用户信息要注意脱敏处理
   ##### 逻辑分析
1. 校验用户账号和密码是否有误
   a. 非空
   b. 账号不少于4位
   c. 密码不少于8位
   d. 账号是否有特殊字符
2. 验证用户密码是否有误，加密之后去和数据库中加密密码比对
3. 用户信息脱敏，隐藏敏感信息，防止数据库中的字段泄露
4. 记录用户的登录态（session），将其存储在服务器上（用后端SpringBoot框架封装的服务器tomcat去记录）
5. 返回用户信息（脱敏后的）
   #####  如何知道是哪个用户登录了
1. 连接服务器端后，得到一个 session 状态（匿名会话），返回给前端
2. 登录成功后，得到了登录成功的 session，并且给该 session 设置一些值（比如用户信息），返回给前端一个设置 cookie 的 “命令”
   session => cookie
3. 前端接收到后端的命令后，设置 cookie，保存到浏览器内
4. 前端再次请求后端的时候（相同的域名），在请求头中带上cookie去请求
5. 后端拿到前端传来的 cookie，找到对应的 session
6. 后端从 session 中可以取出基于该 session 存储的变量（用户的登录信息、登录名）

### 用户管理 
#### 需求分析
1. 改
   a. 对已有数据进行修改
2. 查
   a. 在数据库中查询已有数据
3. 删 、是否需要使用逻辑删除
   a. 如果不需要逻辑删除，就直接在后端，调用对应数据库接口，将对应数据删除
   b. 在数据库中实现逻辑删除，将isDelete设置为1
   ⅰ. 并且不再将数据返回给前端
   ⅱ. 并且逻辑删除了的用户，不再可以登录
   ⅲ. 同样逻辑删除后的用户可以再次注册
####  逻辑分析
1. 前端
   a. 调用对应接口发送请求
2. 后端
   a. 根据对应的接口，实现对应数据库操作，再返回数据




